---
title: 操作系统复习（二）
date: 2016-06-24 23:05:29
tags: 操作系统
categories: 课程复习
---

**问答题**

1、  操作系统：操作系统是一组控制和管理计算机硬件和软件资源、合理地对各类作业进行调度，以及方便用户的程序的集合。操作系统是用户和计算机的接口，同时也是计算机硬件和其他软件的接口。

2、  三种系统：

批处理系统：用户将作业交给系统操作员，系统操作员将许多用户的作业组成一批作业(jobs)之后输入到计算机中，在系统中形成一个自动转接的连续的作业流，系统自动、依次执行每个作业。最后由操作员将作业结果交给用户。

l  优点：

l  作业流程自动化; 

l  效率高

l  吞吐量高

l  缺点：

l  无交互手段

l  调试程序困难

 

 

实时系统：实时操作系统是指当外界事件或数据产生时，能够接受并以足够快的速度予以处理，其处理的结果又能在规定的时间之内来控制生产过程或对处理系统作出快速响应，并控制所有实时任务协调一致运行的操作系统。

分时系统：操作系统将CPU的时间划分成若干个片段,称为时间片。操作系统以时间片为单位，在用户间快速切换，轮流为每个终端用户服务，每次服务一个时间片。系统的快速切换使用户感到整个系统只为自己所用。

优点：多道性、同时性、独立性、及时性、交互性

 

 

3、  PCB

 系统为了管理进程设置的一个专门的数据结构，用它来记录进程的外部特征，描述进程的运动变化过程，包含与一个特定进程相关的信息：进程状态、程序计数器、cpu寄存器、cpu调度信息、内存管理信息、记账信息和IO状态信息。系统利用PCB来控制和管理进程，所以PCB是系统感知进程存在的唯一标志。进程与PCB是一一对应的

 

4、论述短期,中期和长期调度之间的区别：

a.短期调度:在内存作业中选择就绪执行的作业,并为他们分配CPU。 

b.中期调度:作为一种中等程度的调度程序，尤其被用于分时系统，一个交换方案的实施，将部分运行程序移出内存，之后，从中断处继续执行。

 c.长期调度（作业调度程序）:从进程的缓冲池中，确定哪些作业调入内存以执行. 

它们主要的不同之处是它们的执行的频率。短期调度必须经常调用一个新进程，由于在系统中，长期调度处理移动的作业时，并不频繁被调用，可能在进程离开系统时才被唤起。

 

5、试比较进程和程序的区别  

答：进程和程序是既有联系又有区别的两个概念，它们的主要区别如下：

（1）进程是程序在处理机上的一次执行过程，是一个动态概念；而程序是代码的有序集合，其本身没有任何运行的含义，是一个静态的概念。  

（2）进程是一个状态变化的过程，是有生命期的，表现在它因创建而产生，因调度而执行，因得不到资源而暂停，因撤销而消亡；而程序是永久的，可以长久保存。  

（3）进程和程序的组成不同。进程由程序、数据和进程控制块组成，而程序仅是代码的有序集合。  

（4）进程与程序之间不是一一对于的。通过多次运行，同一个程序可以对应多个进程过调用关系，一个进程可以包含多个程序。

 

6、

（1）进程是具有一定独立功能的程序关于某个数据集合上的一次运行活动,进程是系统进行资源分配和调度的一个独立单位. 

（2）线程是进程的一个实体,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位.线程自己基本上不拥有系统资源,只拥有一点在运行中必不可少的资源(如程序计数器,一组寄存器和栈),但是它可与同属一个进程的其他的线程共享进程所拥有的全部资源。

 

一个线程可以创建和撤销另一个线程；

一个进程一般拥有多个线程，至少拥有一个线程；

同一个进程中的多个线程之间可以并发执行

 

比较：

**调度**

传统的OS中，调度和分派的基本单位是进程，拥有资源的基本单位也是进程；

引入线程的OS中，调度和分派的基本单位是线程，拥有资源的基本单位是进程；

线程能轻装上阵，可显著地提高系统的并发度；

同一进程中，线程的切换不会引起进程切换；

不同进程中的线程之间的切换要引起进程的切换；

**并发性**

引入线程的系统中，进程之间可以并发执行，同一进程中的多个线之间也可并发执行，使系统具有更好的并发性，进一步提高了资源的利用率及系统的吞吐量；

**拥有资源**

进程是拥有资源的独立单位；

线程仅拥有比不可少的资源，可以访问其隶属进程的资源；例如进程的代码段、数据段及系统资源，如已打开的文件、I/O设备等，可供同一进程的线程共享；

**系统开销**

系统创建及撤销进程时的开销远远大于创建及撤销线程时的开销；

进程切换时的开销也远远大于线程切换时的开销；

由于同一进程中的多个线程具有相同的地址空间，致使他们之间的同步和通信的实现，也变得比较容易；

在有的OS中，线程的切换、同步和通信都无需OS内核的干预；

 

7、各种cpu调度算法总结：

**FCFS**：按照作业提交或进程变为就绪状态的先后次序，分派CPU；当前作业或进程占用CPU，直到执行完或阻塞，才出让CPU（非抢占方式）。

算法实现简单且容易理解。比较有利于长作业，而不利于短作业。 有利于CPU繁忙的作业，而不利于I/O繁忙的作业。系统吞吐量小。

**SJF****：**系统吞吐量大，平均周转时间短

有利于短作业，不利于长作业

如果采用抢先式调度，下一个CPU周期的长度无法精确获得，只能采用预测的方法。

 

**轮转法调度：**

过长－>退化为FCFS算法，进程在一个时间片内都执行完，响应时间长。 

过短－>用户的一次请求需要多个时间片才能处理完，上下文切换次数增加，响应时间长。

 

**优先级调度：**根据进程紧急程度合理调度进程。

多级队列调度算法：根据进程的属性，将进程分配到一个队列，每个队列有自己的调度算法。

**多级队列反馈调度算法：**允许进程在队列间进行移动，例如如果进程过多占用CPU时间，它将被转移到更低的优先级队列。在较低优先级等待时间过长的进程，会被转移到更高优先级队列。

优点：可以动态调节，更加灵活；无需估计进程执行时间。

 

8、死锁：是指两个或两个以上的[进程](http://baike.baidu.com/view/19746.htm)在执行过程中，因争夺资源而造成的一种互相等待的现象，每一个进程都在等待只能由本集合中的其他进程才能引发的事件，若无外力作用，它们都将无法推进下去。

 

**9****、分页与分段的区别：******

1、页是信息的物理单位，分页是为实现离散分配方式，以消减内存的外零头，提高内存的利用率；或者说，分页仅仅是由于系统管理的需要，而不是用户的需要。

段是信息的逻辑单位，它含有一组其意义相对完整的信息。分段的目的是为了能更好的满足用户的需要。

 

2、页的大小固定且由系统确定，把逻辑地址划分为页号和页内地址两部分，是由机器硬件实现的，因而一个系统只能有一种大小的页面。

段的长度却不固定，决定于用户所编写的程序，通常由编辑程序在对源程序进行编辑时，根据信息的性质来划分。

 

3、分页的作业地址空间是维一的，即单一的线性空间，程序员只须利用一个记忆符，即可表示一地址。

分段的作业地址空间是二维的，程序员在标识一个地址时，既需给出段名，又需给出段内地址。

 

10、页置换算法：

 

 

 

11、IO控制方式

 

**程序查询方式的特点：**控制简单，硬件开销小；CPU与外设是串行工作的，系统效率低。适用于CPU不太忙且传送速度要求不太高的场合。

由CPU定时发出询问，依序询问每一个周边设备是否需要其服务，有即给予服务，服务结束后再问下一个周边，接着不断周而复始。****

**程序中断方式的特点**：CPU和外设可并行工作，提高了CPU的效率，不仅适于主机和外设之间的数据交换，还特别适于对外界随机事件的处理。适用于CPU较忙，传送速度不太高的系统中，尤其适合实时控制及紧急事件的处理。

CPU暂时中止现行程序的执行,转去执行为某个随机事态服务的中断处理程序.处理完毕后自动恢复原程序的执行.

**DMA****方式的特点：**完全由硬件（DMA控制器）负责完成信息交换，信息传递从以CPU为中心，转为以内存为中心，CPU和外设可并行工作，对高速大批量数据传送特别有用。但缺点是只能进行简单数据交换，电路结构复杂，硬件开销大。

它会先向CPU发送DMA请求信号。外设通过DMA的一种专门接口电路――DMA控制器（DMAC），向CPU提出接管总线控制权的总线请求。于是在DMA控制器的管理下，外设和存储器直接进行数据交换，而不需CPU干预。

 

 

12、最小特权原则：最小特权原则，则是指"应限定网络中每个主体所必须的最小特权，确保可能的事故、错误、网络部件的篡改等原因造成的损失最小"。

它限制了使用者对系统及数据进行存取所需要的最小权限，既保证了用户能够完成所操作的任务，同时也确保非法用户 或异常操作所造成的损失最小。

 

13、FCB：为了便于对文件进行控制和管理，在文件系统内部，给每个文件惟一地设置一个文件控制块，这种数据结构通常由下列信息项组成：

1.文件标志和控制信息

2.文件逻辑结构信息

3.文件物理结构信息

4.文件使用信息

5.文件管理信息

 

14、文件分配策略：

目标：有效地利用外存空间（额外的磁盘空间、碎片）

提高对文件的访问速度（随机存取）

保证可靠性（是否容易导致文件的损坏）

 

**连续分配**：连续分配：创建文件时，分配一组连续的块；FAT中每个文件只要一项，说明起始块和文件的长度。对顺序文件有利。

优点：简单。适用于一次性写入的操作 

 支持顺序存取和随机存取，顺序存取速度快

 所需的磁盘寻道次数和寻道时间最少（因为由于空间的连续性，当访问下一个磁盘块时，一般无需移动磁头，当需要磁头移动，只需要移动一个磁道。

 

缺点：文件不能动态增长（可能文件末尾处的空块已经分配给别的文件）

不利于文件插入和删除

外部碎片问题（反复增删文件后），使得很难找到空间大小足够的连续块。进行紧缩

在创建文件时声明文件的大小。

 

 

**链式分配**：一个文件的信息存放在若干不连续的物理块中，各块之间通过指针连接，前一个物理块指向下一个物理块。FAT中每个文件同样只需要一项，包括文件名、起始块号和最后块号。任何一个自由块都可以加入到链中。

 

优点：提高了磁盘空间利用率,不存在外部碎片问题

有利于文件插入和删除

有利于文件动态扩充

 

缺点：存取速度慢，一般仅适于对信息的顺序存取，不适于随机存取:查找某一个块必须从头开始沿指针进行。

可靠性问题，如指针出错；更多的寻道次数和寻道时间

链接指针占用一定的空间，将多个块组成簇（cluster），按簇进行分配而不是按块进行分配（增加了磁盘碎片）。

** **

**索引分配**：每个文件在FAT中有一个一级索引，索引包含分配给文件的每个分区的入口。文件的索引保存在一个单独的块中。FAT中该文件的入口指向这一块。

 优点：

保持了链接结构的优点,又解决了其缺点：按块分配可以消除外部碎片，按大小可变的分区分配可以提高局部性。索引分配支持顺序访问文件和直接访问文件，是普遍采用的一种方式。

满足了文件动态增长、插入删除的要求（只要有空闲块）

也能充分利用外存空间

 缺点：

较多的寻道次数和寻道时间.

索引表本身带来了系统开销，如：内外存空间，存取时间

 

15、文件系统：文件系统是操作系统用于明确磁盘或分区上的文件的方法和数据结构；即在磁盘上组织文件的方法。文件系统由三部分组成：与文件管理有关软件、被管理文件以及实施文件管理所需数据结构。从系统角度来看，文件系统是对文件[存储器](http://baike.baidu.com/view/87697.htm)空间进行组织和分配，负责文件存储并对存入的文件进行保护和检索的系统。一个分区或磁盘能作为文件系统使用前，需要初始化，并将记录数据结构写到磁盘上。这个过程就叫建立文件系统。